server:
  port: 8081

spring:
  application:
    name: workos-poc

# WorkOS SSO Configuration (IdP-initiated flow only)
# 
# This application only supports IdP-initiated SSO flows.
# Users initiate SSO from their IdP dashboard (Okta, Azure AD, etc.).
# WorkOS automatically determines the connection from the SAML assertion.
# No connection ID is needed in authorization URLs - it's provided by WorkOS in the profile.
#
workos:
  environment: staging  # Options: staging, production
  # Use environment variables for sensitive values
  # Set these in your environment or .env file:
  # export WORKOS_API_KEY="sk_test_..."
  # export WORKOS_CLIENT_ID="client_..."
  # export WORKOS_SESSION_PASSWORD="..."
  # 
  # Note: WORKOS_CONNECTION_ID and WORKOS_ORGANIZATION_ID are no longer needed:
  # - Connection IDs are mapped in connection-mapping section below
  # - Organization ID is provided by WorkOS in the profile during IdP-initiated flow
  api-key: ${WORKOS_API_KEY:your-api-key-here}
  client-id: ${WORKOS_CLIENT_ID:your-client-id-here}
  # connection-id and organization-id removed - not needed for IdP-initiated flows
  # Connection mapping is configured in connection-mapping section below
  redirect-uri: http://localhost:8081/auth/workos/callback
  
  # Cookie encryption password for WorkOS AuthKit
  session-password: ${WORKOS_SESSION_PASSWORD:your-session-password-here}
  
  # Connection to CorpId Mapping
  # Each customer has their own WorkOS connection to their IdP
  # Map WorkOS connection ID to your internal corpId (account ID)
  connection-mapping:
    conn_01K8R9BKTPJWV123532JYJ5T6H: CORP_PROD_001  # Okta connection
    conn_01K953TWV92J9M1F1J0CR85QB6: CORP_PROD_002  # Azure Entra ID connection
  
  # Connection to Logo Mapping
  # Maps WorkOS connection IDs to IdP logo filenames
  connection-logos:
    conn_01K8R9BKTPJWV123532JYJ5T6H: okta_logo.png
    conn_01K953TWV92J9M1F1J0CR85QB6: azure_entra_id_logo.jpeg
  
  # Connection to IdP Name Mapping
  # Maps WorkOS connection IDs to IdP display names
  connection-names:
    conn_01K8R9BKTPJWV123532JYJ5T6H: Okta
    conn_01K953TWV92J9M1F1J0CR85QB6: Azure Entra ID
  
  # Environment-specific API endpoints
  api:
    staging-base-url: "https://api.workos.dev"
    production-base-url: "https://api.workos.com"
  
  # Frontend configuration
  frontend:
    base-url: "http://localhost:4200"
    dashboard-path: "/dashboard"
    login-path: "/login"
  
  # Staging environment configuration
  staging:
    fallback-user:
      email: "staging-fallback@example.com"
      first-name: "STAGING"
      last-name: "FALLBACK" 
      role: "org_manager"
      organization-name: "STAGING FALLBACK ORGANIZATION"
      organization-id: "staging-fallback-org-001"
      connection-id: "staging-fallback-conn-001"
    
  # Production environment configuration  
  production:
    validate-api-key: true  # Validate API key format in production
    require-real-profiles: true  # Ensure no mock profiles in production

jwt:
  secret: myVeryLongAndSecureSecretKeyThatIsAtLeast256BitsLongForJWTTokenGeneration
  expiration: 86400000

logging:
  level:
    org.springframework.security: DEBUG
    com.example.workospoc: DEBUG

# Corp Mapping Service Configuration (for future implementation)
corp:
  mapping:
    api:
      # TODO: Set when corp mapping API is available
      base-url: ${CORP_MAPPING_API_URL:http://localhost:8082}
      key: ${CORP_MAPPING_API_KEY:}
      timeout:
        connect: 5000  # milliseconds
        read: 10000    # milliseconds